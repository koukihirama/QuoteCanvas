<%# locals: f:, field:, label:, picker_key:, default_color: %>
<div>
  <%= f.label field, label, class: "block font-semibold mb-1" %>

  <!-- プリセット（お好みで色追加OK） -->
  <div class="flex flex-wrap gap-2 mb-2">
    <% [
      "#111827", "#374151", "#6B7280", "#9CA3AF", "#F9FAFB",
      "#000000", "#FFFFFF", "#EF4444", "#F59E0B", "#10B981",
      "#3B82F6", "#8B5CF6", "#EC4899"
    ].each do |hex| %>
      <button type="button"
              class="size-6 rounded-full border"
              style="background:<%= hex %>"
              title="<%= hex %>"
              data-color-preset="<%= picker_key %>"
              data-value="<%= hex %>"></button>
    <% end %>
  </div>

  <div class="flex items-center gap-2">
    <%= f.text_field field,
          class: "input input-bordered w-full",
          placeholder: default_color,
          value: default_color,
          data: { preview_target: picker_key } %>
    <input type="color"
           class="input w-12 p-0"
           value="<%= default_color %>"
           data-colorpicker="<%= picker_key %>" />
    <span class="badge"><%= default_color.upcase %></span>
  </div>

  <!-- 最近使った色（JSで差し込む） -->
  <div class="mt-2 flex flex-wrap gap-2" data-recent="<%= picker_key %>"></div>
</div>